<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{{ page.title }} | {{ site.title }}</title>

  <!-- Font: Computer Modern Unicode (self-hosted) -->
  <style>
    @font-face { font-family: "Computer Modern"; src: url("/fonts/cmunss.otf") format("opentype"); }
    @font-face { font-family: "Computer Modern"; src: url("/fonts/cmunsx.otf") format("opentype"); font-weight: bold; }
    @font-face { font-family: "Computer Modern"; src: url("/fonts/cmunsi.otf") format("opentype"); font-style: italic; }
    @font-face { font-family: "Computer Modern"; src: url("/fonts/cmunbxo.otf") format("opentype"); font-weight: bold; font-style: italic; }

    :root { --bg-color:#ffffff; --text-color:#111111; --link-color:#0645ad; --accent-color:#dddddd; }
    [data-theme="dark"] { --bg-color:#1c1c1c; --text-color:#f0f0f0; --link-color:#58a6ff; --accent-color:#333333; }

    body {
      font-family: "Computer Modern", serif;
      background-color: var(--bg-color); color: var(--text-color);
      max-width: 800px; margin: 4em auto; padding: 0 2em;
      line-height: 1.75; font-size: 17px;
      transition: background-color .3s, color .3s;
    }
    h1,h2,h3 { font-weight: normal; margin-top: 2em; }
    h1 { font-size: 2.2em; margin-bottom: .4em; }
    h2 { font-size: 1.6em; border-bottom: 1px solid var(--accent-color); padding-bottom: .3em; }
    a { color: var(--link-color); text-decoration: none; }
    a:hover { text-decoration: underline; }

    .theme-toggle {
      position: fixed; top: 1em; right: 1em;
      background: var(--accent-color); border: none; padding: .5em .8em;
      font-size: .9em; cursor: pointer; border-radius: 5px; color: var(--text-color);
    }

    /* Global nav/header */
    .site-header { display:flex; align-items:center; justify-content:space-between; gap:1em; margin-bottom:2em; }
    .site-title { margin:0; font-size: 1.6em; }
    nav a { margin-right: 1rem; }

    /* Homepage section styles (moved here for global reuse) */
    .section { margin-bottom: 2.5em; }
    ul { padding-left: 1.2em; }
    .pub-title { font-style: italic; }
    .header-container { display:flex; align-items:center; justify-content:space-between; gap:1em; margin-bottom:2em; }
    .text-container { flex:1; }
    .profile-photo { width:180px; height:180px; object-fit:cover; border-radius:50%; border:2px solid var(--accent-color); }

    /* Blog polish */
    .post { margin: 2rem 0; padding-bottom: 1.5rem; border-bottom: 1px solid var(--accent-color); }
    .post-title { margin: 0 0 .3rem 0; }
    .post-meta { opacity:.7; font-size:.95rem; }
    .tag { font-size:.85rem; padding:.1rem .4rem; border:1px solid var(--accent-color); border-radius:.4rem; margin-right:.35rem; }

    /* Publications list styles */
    .pub-links .pill {
        display:inline-block; margin-left:.4rem; padding:.08rem .45rem;
        border:1px solid var(--accent-color); border-radius:.4rem;
        font-size:.85rem; text-decoration:none;
    }
    .pub-links .pill:hover { text-decoration:underline; }

    /* Teaching section */
    .teaching-list, .awards-list { padding-left: 1.2em; margin: .8rem 0 0 0; }
    .course { margin: .5rem 0 0 0; }
    .course-grid {
        display: grid;
        grid-template-columns: 120px 1fr;
        gap: .6rem 1rem;
        align-items: baseline;
    }
    .course-code {
        font-weight: bold;
        white-space: nowrap;
    }
    .course-title {
        
    }
    .course-meta {
        margin-left: .35rem;
        opacity: .8;
    }
    .award { margin: .3rem 0; }

    /* Mobile */
    @media (max-width: 640px) {
        .course-grid { grid-template-columns: 1fr; }
        .course-code { opacity: .9; }
    }



    /* Projects */
    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 1rem;
    }
    .project-card {
      border: 1px solid var(--accent-color);
      border-radius: 12px;
      padding: 1rem 1.1rem;
      background: var(--bg-color);
      transition: transform .15s ease, box-shadow .15s ease;
    }
    .project-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,0,0,.06);
    }
    .project-title { margin: 0 0 .2rem 0; font-size: 1.1em; }
    .project-links { margin-top: .6rem; }
    .btn {
      display: inline-block;
      padding: .35rem .7rem;
      border: 1px solid var(--accent-color);
      border-radius: 6px;
      text-decoration: none;
    }
    .btn:hover { text-decoration: underline; }
    .btn.ghost { background: transparent; }
    .tags {
      list-style: none; padding: 0; margin: .6rem 0 0 0;
      display: flex; gap: .4rem; flex-wrap: wrap;
    }
    .tags li {
      border: 1px solid var(--accent-color);
      border-radius: 999px;
      padding: .05rem .5rem;
      font-size: .8rem;
      opacity: .9;
    }

    /* Mobile */
    @media (max-width: 640px) {
      .projects-grid { grid-template-columns: 1fr; }
    }

    /* Match header */
    .match-card {
      border: 1px solid var(--accent-color);
      border-radius: 12px;
      padding: 1rem 1.1rem;
      margin-bottom: 1rem;
    }
    .match-line { display:flex; align-items:baseline; gap:.6rem; }
    .badge {
      display:inline-block; padding:.15rem .5rem; border:1px solid var(--accent-color);
      border-radius:.4rem; font-size:.85rem;
    }
    .scoreline { font-weight:700; }

    /* Goals list */
    .goals-list { margin:.6rem 0 0 0; padding-left:1.2rem; }

    /* Ratings table */
    .ratings-table { width:100%; border-collapse: collapse; margin-top: .8rem; }
    .ratings-table th, .ratings-table td {
      border-bottom: 1px solid var(--accent-color);
      padding: .5rem .4rem;
      vertical-align: top;
    }
    .ratings-table th { text-align:left; opacity:.85; font-weight:600; }
    .ratings-table .num { width: 88px; text-align:center; white-space:nowrap; }
    .ratings-table .player { font-weight:600; }
    .ratings-table .section-row th {
      text-align: left;
      padding-top: .8rem;
      border-bottom: 1px solid var(--accent-color);
      font-weight: 700;
    }
    /* Mobile */
    @media (max-width:640px){
      .ratings-table .notes { display:block; }
    }
    /* Gradient rating pill: red → beige → green (1..10, 5 ≈ beige) */
    .rating-pill {
      display:inline-block; min-width: 2.6rem; text-align:center;
      padding:.1rem .45rem; border:1px solid var(--accent-color);
      border-radius:.6rem; font-variant-numeric: tabular-nums;
      background: #eee; /* fallback */
    }

    /* Colors (t is 0–100%) */
    @supports (background: color-mix(in hsl, red 50%, green)) {
      .rating-pill.phase1 {
        /* 1..5: mix red → beige */
        --from: hsl(0 80% 55%);       /* red */
        --to:   #f5f5dc;              /* beige */
        background: color-mix(in hsl, var(--from) calc(100% - var(--t)), var(--to) var(--t));
      }
      .rating-pill.phase2 {
        /* 5..10: mix beige → green */
        --from: #f5f5dc;              /* beige */
        --to:   hsl(120 45% 40%);     /* green */
        background: color-mix(in hsl, var(--from) calc(100% - var(--t)), var(--to) var(--t));
      }
    }

  </style>
</head>
<body>
  <button class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>

  <header class="site-header">
    <h1 class="site-title"><a href="/">{{ site.title }}</a></h1>
    <nav>
      <a href="/">Home</a>
      <a href="/blog/">Arsenal Blog</a>
      <a href="/cv.pdf" target="_blank">CV</a>
      <a href="mailto:adam.nijhawan@gmail.com">Email</a>
      <a href="https://github.com/adamnijhawan" target="_blank">GitHub</a>
    </nav>
  </header>

  <main>
    {{ content }}
  </main>

  <script>
    function toggleTheme() {
      const current = document.documentElement.getAttribute("data-theme");
      const next = current === "dark" ? "light" : "dark";
      document.documentElement.setAttribute("data-theme", next);
      localStorage.setItem("theme", next);
    }
    const savedTheme = localStorage.getItem("theme") || "light";
    document.documentElement.setAttribute("data-theme", savedTheme);
  </script>
</body>
</html>
